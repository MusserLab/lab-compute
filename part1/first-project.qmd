# Your First Project

Let's create a complete project that demonstrates the full workflow. By the end, you'll have:

- A project folder with organized structure
- A conda environment (Python)
- An R project with renv
- A Quarto analysis script that renders to HTML
- Everything under Git version control

## Step 1: Create the Project Folder

Open your terminal and create a new project:

```bash
# Navigate to where you keep projects
cd ~/Documents  # or wherever you prefer

# Create and enter the project folder
mkdir my-first-analysis
cd my-first-analysis
```

## Step 2: Open in Positron

Open Positron and use **File → Open Folder** to open `my-first-analysis`.

[TODO: screenshot of Positron with empty folder open]

## Step 3: Initialize Git

In Positron's terminal (View → Terminal), initialize a Git repository:

```bash
git init
```

Create a `.gitignore` file to exclude files that shouldn't be tracked:

```bash
# Create .gitignore
cat > .gitignore << 'EOF'
# R
.Rhistory
.RData
.Rproj.user/
renv/library/
renv/staging/

# Python
__pycache__/
*.pyc
.conda/
.venv/

# Quarto
*_files/
.quarto/

# Data (large files)
data/raw/

# OS files
.DS_Store
Thumbs.db

# IDE
.vscode/
.positron/
EOF
```

## Step 4: Set Up Conda Environment

Every project gets a conda environment, even if you're primarily using R. This keeps Python dependencies isolated and establishes good habits for mixed-language projects.

```bash
conda create -n my-first-analysis python=3.11 -y
conda activate my-first-analysis
```

Save the environment specification:

```bash
conda env export > environment.yml
```

::: {.callout-tip}
## Environment Activation
Every time you work on this project, activate the environment first:
```bash
conda activate my-first-analysis
```
:::

## Step 5: Set Up R with renv

In Positron's R console, initialize renv:

```r
# Install renv if needed
install.packages("renv")

# Initialize renv for this project
renv::init()
```

This creates:

- `renv/` folder for the package library
- `renv.lock` file tracking package versions
- `.Rprofile` to auto-activate renv

Install the packages we'll need for our analysis:

```r
install.packages(c("ggplot2", "dplyr", "palmerpenguins"))
renv::snapshot()  # Save the state
```

## Step 6: Create Project Structure

Create a standard folder structure:

```bash
mkdir -p data/raw data/processed analysis output
```

Your project now looks like:

```
my-first-analysis/
├── .git/
├── .gitignore
├── analysis/          # Quarto analysis scripts
├── data/
│   ├── raw/           # Original data (not tracked)
│   └── processed/     # Cleaned data
├── output/            # Final results, figures
├── environment.yml    # Conda environment
├── renv/              # R packages
└── renv.lock          # R package versions
```

## Step 7: Write a Quarto Analysis Script

Now we'll create a Quarto analysis script—the main artifact in our workflow. Create a new file at `analysis/penguin_summary.qmd`:

````markdown
---
title: "Penguin Size Summary"
author: "Your Name"
format: html
---

## Overview

This analysis summarizes body size measurements from the Palmer Penguins dataset.

**Input:** `palmerpenguins` package (built-in dataset)
**Output:** Summary statistics and a figure saved to `output/`

```{{r}}
#| label: setup
library(palmerpenguins)
library(dplyr)
library(ggplot2)
```

## Data summary

```{{r}}
#| label: summary
penguins |>
  group_by(species) |>
  summarise(
    n = n(),
    mean_mass_g = mean(body_mass_g, na.rm = TRUE),
    mean_flipper_mm = mean(flipper_length_mm, na.rm = TRUE)
  )
```

## Body mass by species

```{{r}}
#| label: fig-mass
#| fig-cap: "Body mass distribution by penguin species"

p <- ggplot(penguins, aes(x = species, y = body_mass_g, fill = species)) +
  geom_boxplot() +
  labs(x = "Species", y = "Body mass (g)") +
  theme_minimal() +
  theme(legend.position = "none")

print(p)

# Save to output folder
ggsave("../output/penguin_mass.png", p, width = 6, height = 4)
```

## Summary

We summarized body mass across three penguin species. The figure has been saved to `output/penguin_mass.png`.
````

::: {.callout-note}
## What makes this a "lab-style" analysis script?

1. **Self-contained** — All code needed to run is in the file
2. **Documents what it does** — States its input and output clearly
3. **Produces a shareable result** — Renders to HTML; exports figures
:::

## Step 8: Render the Analysis

Run Quarto to execute the code and produce an HTML report:

```bash
quarto render analysis/penguin_summary.qmd
```

This creates `analysis/penguin_summary.html`. Open it in a browser to see your rendered analysis.

[TODO: screenshot of rendered HTML]

You should also see `output/penguin_mass.png` — the figure exported by the script.

::: {.callout-tip}
## Preview mode
During development, use `quarto preview` to see live updates as you edit:
```bash
quarto preview analysis/penguin_summary.qmd
```
:::

## Step 9: Commit Your Work

Stage and commit everything:

```bash
# See what's ready to commit
git status

# Add files
git add .

# Commit
git commit -m "Initial project setup with penguin analysis"
```

## Step 10: Push to GitHub {#sec-github-auth}

### Create a GitHub Repository

1. Go to [github.com](https://github.com) and click **New repository**
2. Name it `my-first-analysis`
3. Keep it private (or public if you prefer)
4. **Don't** initialize with README (we already have files)
5. Click **Create repository**

### Authenticate with GitHub

If you haven't already, install and authenticate the GitHub CLI:

```bash
# macOS
brew install gh

# Windows: Download from https://cli.github.com/

# Authenticate
gh auth login
```

Follow the prompts to authenticate via browser.

### Push Your Code

```bash
# Add the remote repository
git remote add origin https://github.com/YOUR-USERNAME/my-first-analysis.git

# Push your code
git push -u origin main
```

## What You've Built

You now have a complete project with:

- ✅ Organized folder structure
- ✅ Python environment (conda) — ready for mixed-language work
- ✅ R package management (renv)
- ✅ A Quarto analysis script that renders to HTML
- ✅ Exported figures in `output/`
- ✅ Version control (Git) and cloud backup (GitHub)

This is the pattern you'll use for every analysis in the lab.

## What's Next

- **Part 2** dives deeper into each tool
- **Part 3** covers workflows like collaboration and troubleshooting

When you return to this project:

```bash
cd my-first-analysis
conda activate my-first-analysis
# R will auto-activate renv when you start it
```
